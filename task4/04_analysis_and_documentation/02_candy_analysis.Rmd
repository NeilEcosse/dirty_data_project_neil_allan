---
title: "Dirty data project - task 4 analysis"
output: html_notebook
---

This file answers the questions set by CodeClan

```{r}
library(readxl)
library(tidyverse)
library(dplyr)
library(here)
```

# 1 - Prepare the data

## 1.1 - Import the files created by my cleaning scripts
There may be some errors reading in data - I'm ignoring for the moment so I can get on with the main tasks
```{r}
candy_2015_clean <-
  read_csv(here("03_clean_data/candy_2015_clean.csv"))

candy_2016_clean <-
  read_csv(here("03_clean_data/candy_2016_clean.csv"))

candy_2017_clean <-
  read_csv(here("03_clean_data/candy_2017_clean.csv"))
```


## 1.2 - Create new versions which only contain the columns I'm interested in
```{r}
candy_2015_clean <-
  candy_2015_clean %>% 
  select(year,
         unique_id,
         age,
         gender,
         country,
         going_trick_or_treating,
         candy_name,
         rating)

candy_2016_clean <-
  candy_2016_clean %>% 
  select(year,
         unique_id,
         age,
         gender,
         country,
         going_trick_or_treating,
         candy_name,
         rating)

candy_2017_clean <-
  candy_2017_clean %>% 
  select(year,
         unique_id,
         age,
         gender,
         country,
         going_trick_or_treating,
         candy_name,
         rating)
```

## 1.3 - Put these together into a single table
```{r}
candy_all_years <-
bind_rows(candy_2015_clean, candy_2016_clean, candy_2017_clean)
```

## 1.4 - Check the rows for each year match the individual yearly tables
```{r}
candy_all_years %>% 
  group_by(year) %>% 
  summarise(count= n())
```

## 1.5 - Drop the separate yearly tables
```{r}
rm(candy_2015_clean, candy_2016_clean, candy_2017_clean)
```



# 2 - Analysis questions set by CodeClan
```{r}

```

